if (self.CavalryLogger) { CavalryLogger.start_js(["TpaIC"]); }

__d("MessengerVoiceClipButton.react",["cx","fbt","AutoFocusableLink.react","Bootloader","LazyComponent.react","LoadOnRender.react","MessengerContextualDialog.react","MessengerSpinner.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;var i=b("React").createElement("div",{style:{padding:"30px",textAlign:"center"}},b("React").createElement(b("MessengerSpinner.react"),{color:"grey"})),j=function(a){b("Bootloader").loadModules(["MessengerVoiceClipFlyout.react"],a,"MessengerVoiceClipButton.react")};c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={flyoutOpen:!!c.props.clicked},c.$1=!1,c.$2=function(a){c.setState({flyoutOpen:a})},c.$3=function(){c.setState({flyoutOpen:!1})},c.$6=function(a){c.$1=c.state.flyoutOpen},c.$5=function(a){a.stopPropagation();if(c.$1){c.$1=!1;return}c.setState({flyoutOpen:!c.state.flyoutOpen})},c.$4=function(a){c.setState({flyoutOpen:!1}),c.props.onVoiceClipCreate&&c.props.onVoiceClipCreate(a)},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c=null;this.state.flyoutOpen&&(c=b("React").createElement(b("MessengerContextualDialog.react"),{contextRef:function(){return a.refs.voiceButton},shown:this.state.flyoutOpen,onToggle:this.$2,onBlur:this.$3},b("React").createElement(b("LoadOnRender.react"),{component:b("React").createElement(b("LazyComponent.react"),{onCancel:this.$3,onStopAndGetVoiceClip:this.$4}),loader:j,placeholder:i})));return b("React").createElement(b("AutoFocusableLink.react"),{autoFocus:this.props.autoFocus,className:"_4rv7"+(this.state.flyoutOpen?" _5jhb":"")+" _39bk _30yy",onClick:this.$5,onMouseDown:this.$6,ref:"voiceButton",role:"button",title:h._("Trimite un mesaj vocal")},c)};return c}(b("React").PureComponent);c.propTypes={onVoiceClipCreate:a.func};e.exports=c}),null);